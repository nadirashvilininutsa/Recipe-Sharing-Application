<form
  [formGroup]="form"
  (ngSubmit)="register()"
  [class.submitted]="isSubmitted"
>
  <h2>registration</h2>

  <section>
    <div class="title">First Name</div>
    <div>
      <input type="text" formControlName="firstName" placeholder="First Name" />
    </div>
  </section>

  <div
    class="error"
    *ngIf="
      (form.controls['firstName'].errors &&
        form.controls['firstName'].touched) ||
      (form.controls['firstName'].errors && isSubmitted)
    "
  >
    <div *ngIf="form.controls['firstName'].errors['required']">
      First name is required
    </div>
    <div *ngIf="form.controls['firstName'].errors['pattern']">
      First name should contain only latin letters
    </div>
  </div>

  <section>
    <div class="title">Last Name</div>
    <div>
      <input type="text" formControlName="lastName" placeholder="Last Name" />
    </div>
  </section>

  <div
    class="error"
    *ngIf="
      (form.controls['lastName'].errors && form.controls['lastName'].touched) ||
      (form.controls['lastName'].errors && isSubmitted)
    "
  >
    <div *ngIf="form.controls['lastName'].errors['required']">
      Last name is required
    </div>
    <div *ngIf="form.controls['lastName'].errors['pattern']">
      Last name should contain only latin letters
    </div>
  </div>

  <section>
    <div class="title">Email</div>
    <div>
      <input
        type="email"
        formControlName="email"
        placeholder="name@email.com"
      />
    </div>
  </section>

  <div
    class="error"
    *ngIf="
      (form.controls['email'].errors && form.controls['email'].touched) ||
      (form.controls['email'].errors && isSubmitted)
    "
  >
    <div *ngIf="form.controls['email'].errors['required']">
      Email is required
    </div>
    <div *ngIf="form.controls['email'].errors['email']">
      Please enter valid email address
    </div>
  </div>

  <section>
    <div class="title">Password</div>
    <div>
      <input
        type="password"
        formControlName="password"
        placeholder="********"
      />
    </div>
  </section>

  <div
    class="error"
    *ngIf="
      (form.controls['password'].errors && form.controls['password'].touched) ||
      (form.controls['password'].errors && isSubmitted)
    "
  >
    <div *ngIf="form.controls['password'].errors['required']">
      Password is required
    </div>
    <div *ngIf="form.controls['password'].errors['minlength']">
      Password should contain at least 8 characters
    </div>
    <div *ngIf="form.controls['password'].errors['pattern']">
      Password should contain at least one lower case letter, one upper case
      letter, one number and one special character (!@#$%^&*?)
    </div>
  </div>

  <section>
    <div class="title">Confirm Password</div>
    <div>
      <input
        type="password"
        formControlName="confirmPassword"
        placeholder="********"
      />
    </div>
  </section>

  <div
    class="error"
    *ngIf="
      (form.controls['confirmPassword'].errors &&
        form.controls['confirmPassword'].touched) ||
      (form.controls['confirmPassword'].errors && isSubmitted)
    "
  >
    <div *ngIf="form.controls['confirmPassword'].errors['required']">
      Password confirmation is required
    </div>
    <div *ngIf="form.controls['confirmPassword'].errors['passwordMismatch']">
      Passwords don't match
    </div>
  </div>

  <button type="submit">Register</button>
</form>
